<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <style>
      @font-face {
        font-family: "mainfont";
        /**
         * Copyright Information of Inconsolata.otf
         * Lisence: Open Font Lisence
         * Author: Raph Levien
         * URL: http://www.levien.com/type/myfonts/inconsolata.html
         */
        src: url("Inconsolata.otf") format("opentype");
      }
      body {
        font-family: "mainfont";
        font-size: 20px;
      }
      pre {
        background-color: black;
        color: white;
        padding: 10px;
      }
      code {
        font-family: "mainfont";
      }
      kbd {
        color: lime;
        font-weight: bold;
      }
    </style>
    <title>Unnamed Backup Tool</title>
  <body>
    <h1>Unnamed Backup Tool</h1>
    <section>
      <h1>Description</h1>
      <p>Unnamed Backup Tool is a backup tool for Unix. Features are;</p>
      <ul>
        <li>backuping to a remote server or a local directory.</li>
        <li>backuping into <code><var>year</var>-<var>month</var>-<var>day</var>T<var>hour</var>:<var>minute</var>:<var>second</var>,<var>millisecond</var></code> directory.</li>
        <li>incremental backup using hard links. If a file is unchanged, Unnamed
        Backup Tool makes a hard link to a previous one.</li>
        <li>backuping not only files itself, but also metadata such as
        permissions and owners under <code>.meta</code> directory.</li>
      </ul>
    </section>
    <section>
      <h1>Requirements</h1>
      <ul>
        <li><a href="http://FreeBSD.org">FreeBSD</a> 8.2, 8.1</li>
        <li>x86</li>
      </ul>
    </section>
    <section>
      <h1>How to Install</h1>
      <p>Read <code>INSTALL</code> and do;</p>
      <pre><code>$ <kbd>./configure &amp;&amp; make &amp;&amp; sudo make install</kbd></code></pre>
    </section>
    <section>
      <h1>How to Use</h1>
      <section>
        <h1>Remote Backup</h1>
        <p>If you want to backup <code>/etc</code> and <code>/usr/home</code> in
        localhost to <code>/backup/foo</code> in <code>example.com</code>,
        you must do;</p>
        <pre>$ <kbd>ubtc --hostname=example.com /etc /usr/home /backup/foo<kbd></pre>
        <p>You must give <code>--hostname</code> option to ubtc, and place a
        destination directory at last.</p>
      </section>
      <section>
        <h1>Local Backup</h1>
        <p>If you want to backup <code>/etc</code> and <code>/usr/home</code> in
        localhost to <code>/backup/foo</code> in localhost, you must do;</p>
        <pre>$ <kbd>ubtc --local /etc /usr/home /backup/foo<kbd></pre>
        <p>You must give <code>--local</code> option to ubtc, and place a
        destination directory at last.</p>
      </section>
    </section>
    <section>
      <h1>Backup Directory</h1>
      <p>TODO</p>
    </section>
    <section>
      <h1>About <code>.meta</code> directory</h1>
      <p>Each directory has <code>.meta</code> directory, which contains meta
      data of files in the directory.</p>
      <p>A meta data file of <code>foo</code> is <code>foo.meta</code>. This
      file has mode, uid and gid in each line.</p>
    </section>
    <section>
      <h1>Protocol between a Server and a Client</h1>
      <section>
        <h1><code>DIR</code> command</h1>
        <section>
          <h1>Format</h1>
          <p><code>DIR <var>name</var> <var>mode</var> <var>uid</var> <var>gid</var></code></p>
        </section>
        <section>
          <h1>Response</h1>
          <p><code>OK</code> or <code>NG</code>.</p>
        </section>
      </section>
      <section>
        <h1><code>FILE</code> command</h1>
        <section>
          <h1>Format</h1>
          <p><code>FILE <var>name</var> <var>mode</var> <var>uid</var> <var>gid</var> <var>timestamp</var></code></p>
        </section>
        <section>
          <h1>Response</h1>
          <p><code>CHANGED</code>, <code>UNCHANGED</code> or <code>NG</code>.
          </p>
        </section>
      </section>
      <section>
        <h1><code>BODY</code> command</h1>
        <section>
          <h1>Format</h1>
          <p><code>BODY <var>size</var></code></p>
          <p>File body follows after a CRLF.</p>
        </section>
        <section>
          <h1>Response</h1>
          <p><code>OK</code> or <code>NG</code>.</p>
        </section>
      </section>
      <section>
        <h1><code>SYMLINK</code> command</h1>
        <section>
          <h1>Format</h1>
          <p><code>SYMLINK <var>name</var> <var>mode</var> <var>uid</var> <var>gid</var> <var>src</var></code></p>
        </section>
        <section>
          <h1>Response</h1>
          <p><code>OK</code> or <code>NG</code>.</p>
        </section>
      </section>
      <section>
        <h1><code>THANK_YOU</code> command</h1>
        <section><h1>Format</h1><p><code>THANK_YOU</code></p></section>
        <section><h1>Response</h1><p>Nothing.</p></section>
      </section>
    </section>
    <section>
      <h1>Author</h1>
      <p>The author of Unnamed Backup Tool is
      <a href="http://neko-daisuki.ddo.jp/~SumiTomohiko">SumiTomohiko</a>.</p>
  </body>
</html>
<!--
vim: tabstop=2 shiftwidth=2 expandtab softtabstop=2
-->
